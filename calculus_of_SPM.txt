Constants:

//VALORES POR DEFECTO DE LAS TOLERANCIAS DE FABRICACIÓN:

//valor por defecto de
//el margen de error de orientación en S1 por mecanizado (en rad)
#define MEGARA_Eo 0.001
//valor por defecto de
//el margen de error de posición en S0 por mecanizado (en mm)
#define MEGARA_Ep 0.01

//valor por defecto de
//el tiempo máximo entre el último almacenamiento de la posición
//y la detención de ambos ejes (en ms)
#define MEGARA_Tstop 1
//valor por defecto de
//desfase temporal máximo entre el posicionadores en movimiento (en ms)
#define MEGARA_Tshif 1

//valor por defecto de
//el margen de error de orientación de S0 (en rad)
#define MEGARA_PAem 0.0001
//valor por defecto de
//el margen de error de apuntado de S0 (en mm)
#define MEGARA_Pem 0.01

//VALORES POR DEFECTO DE LAS PROPIEDADES FÍSICAS:

//SPM de asignación de precisión
#define MEGARA_SPMall_p 0.100007634797586 //mm

//radio apical del posicionador
#define MEGARA_r_max 13.940281559018

//SPM estático para absorber los errores de mecanizado y numérico
#define MEGARA_SPMsta MEGARA_Eo*MEGARA_r_max + MEGARA_Ep

//No se debe olvidar que aunque las pruebas permitan acotar el margen de error
//de posicionamiento de la fibra dentro de determindos límites, el margen de
//error que deberá tenerse en cuenta para evitar colisiones, es el que afecta
//a la posición final del brazo del posicionador, el cual será mayor cuando
//la calibración fina se efectúe observando la fibra.

//Para reducir SPMmec así como el error de posicionamiento
//del punto P3, es posible realizar un procedimiento de calibración
//para medir las siguientes propiedades:
//      P0: posición del eje1 en S0;
//      thetaO1: orientación de S1 en S0;
//      Arm->theta__O3: orientación de S3 en S2;
//      L01: longitud del antebrazo o radio del cilindro;
//      Arm->L13: distancia entre el eje 2 y el centro de la fibra;
//      F(theta_1): f. de compresión del cuant. del eje 1;
//      Arm->F(theta___3): f. de compresión del cuant. del eje 2.
//Conocer las siguientes propiedades también puede reducir
//el margen de error, pero puede resultar más difícil medirlas,
//porque no es posible hacerlo retroiluminando las fibras:
//      Arm->L12: longitud del brazo;
//      Arm->theta____3: offset angular entre Arm->P2 y Arm->P3.
//
//Se advierte que interesa que SPMsta sea pequeño, por que es
//una medida del margen de error en el posicionamiento de la fibra.
//Además un SPMsta relativamente elevado tiene poco impacto en
//la eficiencia de los algoritmos de asignación y posicionamiento.

//SPMsta debe ser lo bastante grande para comprender:
//- el error mecánico debido al mecanizado del posicionador;
//- el error de orientación de los sistemas de referencia  de los ejes;
//- el error de ubicación de la fibra en el brazo;
//- el error mecánico de orientación en el anclaje del posicionador;
//- el error mecánico de posicionamiento en el anclaje del posicionador;
//- el error de posición debido a la falta de correspondencia de
//  F(theta_1) y Arm->F(theta___3) con al realidad.

//CONSTANTS OF THE MOTION FUNCTIONS:

#define MEGARA_VMAXABSDEF 0.6 //(steps/ms)
#define MEGARA_AMAXABSDEF 0.0007 //(steps/ms^2)


