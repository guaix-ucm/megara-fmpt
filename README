This is a package to install the MEGARA FMPT, the Fiber MOS Positioning Tool for MEGARA.

Copyright IAA-CSIC 2013-2015.

##################
Table of Contents
##################

*Brief overview
*License
*Requirements
*Installation
*Using MEGARA FMPT

Brief overview
-----------------------------------
The Fiber MOS Positioning Tool (FMPT) forms part of the MOPSS. The FMPT will compute the movements to be done by the RPs in a configuration block to ensure no collisions among adjacent positioners while minimizing the time to configure all of them. This release includes the implementation of the function to generate depositioning programs of type step-by-step using as an input a table with RPs assignments provided by the Fiber MOS Assignment Tool (FMAT).

This package provides a positioning library (libfmtp) and command line interface
to it called 'fmpt_saa'

License
-----------------------------------

Megara FMPT is distributed under GPLv3 License. See the file 'COPYING' for details.
Provided that this S/W is used to the instrument MEGARA, this license is intended that GRANTECAN will be able to use and modify it without restrictions, while developers retain rights to modify and use it for other uses. The software has two years of warranty while it remains without being modified.

Requirements
----------------------------------

This package is written in C++, requires GNU C++ to compile.

It has been tested in:
- Fedora 20 x86 64-bit.
- SUSE Linux Enterprises SLES 11 SP1 64-bit.
- Mac OS X 10.7, 10.9 and 10.10.

Installation
---------------------------------

The process to install this S/W can be found in the file INSTALL. The summarized process is explained below:

1. Decompress tar file 'megara-fmpt-2.0.0.tar.gz' (or .xz).
2. Change to directory './megara-fmpt-2.0.0'.
3. Execute './configure; make;' to configure and build this package.
4. Turn on superuser to have access to '/usr/local/...'.
5. Execute 'make install' (as superuser) to install the library and the application.

This process will install the libraries (static and dynamic) FMPT, and the FMPT SAA application, in the usual directories of the user distribution of the user operative system. For example:
- the libraries (estatic and dynamic) will be installed in '/usr/local/lib';
- the executable file fmpt_saa will be installed in '/usr/local/bin';
- the instance of the Fiber MOS Model will be installed in: '/usr/local/share/megara-fmpt/models/MEGARA_FiberMOSModel_Instance';
- the sample input files will be installed in: 'usr/local/bin/share/megara-fmpt/Samples';

These locations can vary depending on the operating system and distribution where this package is installed.

Using MEGARA FMPT
---------------------------------

Execute the FMPT SAA application writing at the shell:

$ fmpt_saa <path>

where path is the absolute path of the file to be executed. For example, to execute one of the installed examples:

$ fmpt_saa /usr/local/share/megara-fmpt/Samples/megara-cb1.txt

These locations can vary depending on the operating system and distribution where this package is installed.

Known issues
============
If installation is completed successfully but execution produce the following error:
	fmpt_saa. error while loading shared libraries: libfmp.so:cannotopen shhared object file: No such file or directory.
Then you must add the path of the library in the file '.bashrc' or the corresponding to the shell of your system:
	LD_LiBRARY_PATH=/usr/local/lib
	export LD_LIBRARY_PATH

The package fails to compile with clang, the default compiler in Mac OSX 10.9
and higher versions. To compile in these versions, the GNU C++ compiler is required.
To override the default compiler use the following syntax:

$ ./configure CXX=/path/to/gnu-g++/binary

and then 'make', 'make install' as usual.

Webpage: http://guaix.fis.ucm.es/megara 
FMPT Maintainer: isaac@iaa.es

